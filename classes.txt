================================================================================
RECONOMED PROJECT STRUCTURE ANALYSIS
================================================================================

ğŸ“ app/main.py
-----------
  ğŸ”§ Functions:
     â€¢ health_check()
     â€¢ serve_frontend()
     â€¢ serve_login()
     â€¢ startup_event()
     â€¢ test_database()

ğŸ“ app/models.py
-------------
  ğŸ”· Class: User
  ğŸ”· Class: Clinic
  ğŸ”· Class: Patient
  ğŸ”· Class: Consultation
  ğŸ”· Class: Document
  ğŸ”· Class: GDPRAuditLog
  ğŸ”· Class: PatientBase
  ğŸ”· Class: PatientCreate
  ğŸ”· Class: PatientResponse
  ğŸ”· Class: UserCreate
  ğŸ”· Class: UserResponse
  ğŸ”· Class: ConsultationBase
  ğŸ”· Class: ConsultationCreate
  ğŸ”· Class: ConsultationResponse
  ğŸ”· Class: DocumentBase
  ğŸ”· Class: DocumentCreate
  ğŸ”· Class: DocumentResponse
  ğŸ”· Class: Config

ğŸ“ app/routers/auth.py
-------------------
  ğŸ”· Class: Token
  ğŸ”· Class: UserResponse
  ğŸ”· Class: UserCreate

ğŸ“ app/routers/clinics.py
----------------------
  ğŸ”· Class: ClinicBase
  ğŸ”· Class: ClinicCreate
  ğŸ”· Class: ClinicResponse
  ğŸ”· Class: Config

ğŸ“ app/routers/documents.py
------------------------
  ğŸ”§ Functions:
     â€¢ create_validation_fields()
     â€¢ get_document()
     â€¢ get_document_for_validation()
     â€¢ get_patient_documents()
     â€¢ get_pending_ocr_documents()
     â€¢ get_pending_validations()
     â€¢ get_validation_suggestions()
     â€¢ validate_document()

ğŸ“ app/routers/search.py
---------------------
  ğŸ”§ Functions:
     â€¢ get_document_types()
     â€¢ search()

ğŸ“ app/services/document.py
------------------------
  ğŸ”· Class: EnhancedDocumentService
     â€¢ __init__()
     â€¢ _analyze_lab_results()
     â€¢ _is_critical_value()
     â€¢ _validate_romanian_id_extraction()
     â€¢ detect_document_type()
     â€¢ process_document_with_templates()
  ğŸ”§ Functions:
     â€¢ detect_document_type()
     â€¢ extract_structured_data()

ğŸ“ app/services/enhanced_ocr.py
----------------------------
  ğŸ”· Class: TemplateMatchResult
  ğŸ”· Class: EnhancedOCRResult
  ğŸ”· Class: RomanianOCRProcessor
     â€¢ __init__()
     â€¢ __init__()
     â€¢ _apply_post_processing()
     â€¢ _apply_post_processing()
     â€¢ _basic_fallback_ocr()
     â€¢ _basic_fallback_ocr()
     â€¢ _calculate_final_confidence()
     â€¢ _calculate_final_confidence()
     â€¢ _calculate_template_score()
     â€¢ _calculate_template_score()
     â€¢ _clean_romanian_ocr_errors()
     â€¢ _clean_romanian_ocr_errors()
     â€¢ _detect_document_layout()
     â€¢ _detect_document_layout()
     â€¢ _detect_official_document_colors()
     â€¢ _detect_official_document_colors()
     â€¢ _detect_photo_region()
     â€¢ _detect_photo_region()
     â€¢ _detect_structured_text_blocks()
     â€¢ _detect_structured_text_blocks()
     â€¢ _determine_result_status()
     â€¢ _determine_result_status()
     â€¢ _enhance_with_medical_terms()
     â€¢ _enhance_with_medical_terms()
     â€¢ _extract_lab_test_results()
     â€¢ _extract_lab_test_results()
     â€¢ _extract_medications()
     â€¢ _extract_medications()
     â€¢ _extract_structured_data()
     â€¢ _extract_structured_data()
     â€¢ _extract_text_romanian_optimized()
     â€¢ _extract_text_romanian_optimized()
     â€¢ _find_medical_terms()
     â€¢ _find_medical_terms()
     â€¢ _match_document_template()
     â€¢ _match_document_template()
     â€¢ _normalize_date()
     â€¢ _normalize_date()
     â€¢ _normalize_hint()
     â€¢ _normalize_input_to_image()
     â€¢ _normalize_romanian_name()
     â€¢ _normalize_romanian_name()
     â€¢ _normalize_test_name()
     â€¢ _normalize_test_name()
     â€¢ _process_with_full_ocr()
     â€¢ _process_with_full_ocr()
     â€¢ _validate_cnp_date_consistency()
     â€¢ _validate_cnp_date_consistency()
     â€¢ process_document()
     â€¢ process_document()

ğŸ“ app/services/ocr.py
-------------------
  ğŸ”§ Functions:
     â€¢ estimate_text_quality()
     â€¢ extract_text_basic()
     â€¢ extract_text_confidence()
     â€¢ extract_text_from_image()
     â€¢ get_mock_ocr_text()
     â€¢ preprocess_image_aggressive()
     â€¢ preprocess_image_simple()

ğŸ“ app/services/romanian_document_templates.py
-------------------------------------------
  ğŸ”· Class: DocumentField
  ğŸ”· Class: DocumentTemplate
  ğŸ”· Class: RomanianDocumentTemplates
     â€¢ get_all_templates()
     â€¢ get_lab_result_template()
     â€¢ get_prescription_template()
     â€¢ get_romanian_id_template()
  ğŸ”· Class: RomanianMedicalTerms

ğŸ“ app/services/romanian_id_processor.py
-------------------------------------
  ğŸ”· Class: RomanianIDType
  ğŸ”· Class: MultiTemplateIDProcessor
     â€¢ __init__()
     â€¢ _analyze_text_density()
     â€¢ _detect_blue_yellow_regions()
     â€¢ _detect_photo_position()
     â€¢ _enhance_region_for_ocr()
     â€¢ _extract_from_template()
     â€¢ _try_all_templates()
     â€¢ _validate_field()
     â€¢ detect_id_type_by_layout()
     â€¢ process_id_card()

ğŸ“ app/utils/file.py
-----------------
  ğŸ”§ Functions:
     â€¢ ensure_upload_directory()
     â€¢ generate_unique_filename()
     â€¢ get_file_info()
     â€¢ save_uploaded_file()
     â€¢ validate_file_type()

ğŸ“ app/utils/gdpr_utils.py
-----------------------
  ğŸ”· Class: ConsentType
  ğŸ”· Class: LegalBasis
  ğŸ”§ Functions:
     â€¢ check_required_consents()
     â€¢ create_gdpr_consent_record()
     â€¢ get_default_romanian_consents()
     â€¢ is_consent_valid()
     â€¢ withdraw_consent()

ğŸ“ app/utils/romanian_validation.py
--------------------------------
  ğŸ”§ Functions:
     â€¢ extract_birth_date_from_cnp()
     â€¢ extract_gender_from_cnp()
     â€¢ normalize_phone_for_search()
     â€¢ normalize_romanian_address()
     â€¢ validate_cnp()
     â€¢ validate_insurance_number()
     â€¢ validate_romanian_phone()

================================================================================
SUMMARY: 14 files, 37 classes, 70 methods, 41 functions
